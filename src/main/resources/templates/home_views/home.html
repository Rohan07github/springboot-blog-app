<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head}"><meta charset="utf-8"></head>
<body class="sub_page">
  
  <header th:replace="~{fragments/header :: header}"></header>

  <!-- Filter Section -->
  <section class="filter_section py-3 bg-light shadow-sm">
    <div class="container">
      <form action="/" method="get" class="row g-3 align-items-center">
        <div class="col-auto">
          <label class="form-label fw-bold">Sort by:</label>
          <select class="form-select" name="sort_by">
            <option selected value="">Sort by</option>
            <option value="createdAt">Created date</option>
            <option value="updatedAt">Updated date</option>
          </select>
        </div>
        <div class="col-auto">
          <label class="form-label fw-bold">Per Page</label>
          <select class="form-select" name="per_page">
            <option value="2" selected>2</option>
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="15">15</option>
          </select>
        </div>
        <div class="col-auto">
          <button class="btn btn-primary" type="submit">
            Apply filter(s)
          </button>
        </div>
      </form>
    </div>
  </section>

  <!-- Posts Section -->
  <section class="about_section layout_padding">
    <div class="container">
      <div class="row g-4">
        <div class="col-12" th:each="post : ${posts}">
          <div class="card post-card shadow-sm">
            <div class="card-body">
              <h3 class="card-title">
                <a th:href="@{'/posts/' + ${post.id}}" th:text="${post.title}">Title</a>
              </h3>
              <h6 class="card-subtitle mb-2 text-muted"
                  th:text="'Author: ' + ${post.account.firstname} +
                           ' | Created at: ' + ${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')} +
                           ' | Updated at: ' + ${#temporals.format(post.updatedAt, 'yyyy-MM-dd HH:mm')}">
              </h6>
              <p class="card-text" th:utext="${post.body}">body</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Pagination -->
      <nav th:if="${links ne null}" aria-label="Pagination" class="mt-4">
        <ul class="pagination justify-content-center">
          <th:block th:each="link: ${links}">
            <li class="page-item">
              <th:block th:utext="${link}">link</th:block>
            </li>
          </th:block>
        </ul>
      </nav>
    </div>
  </section>

  <footer th:replace="~{fragments/footer :: footer}"></footer>
</body>
</html>